# AWS 料金見積もり - 小規模 NFT 販売サイト（2-3日間稼働）

## 前提条件
- 稼働期間：2-3日間（72時間）
- 想定ユーザー数：50-100人（授業の生徒数）
- 同時接続数：最大20人
- NFT作成数：100-200個程度
- 画像サイズ：平均2MB/枚

## 1. 最小構成での見積もり

### 1.1 EC2（Webサーバー）
- **インスタンスタイプ**: t3.micro（1vCPU、1GB RAM）
- **料金**: $0.0104/時間 × 72時間 = **$0.75**（約110円）
- **用途**: フロントエンド + バックエンド API

### 1.2 RDS（データベース）
- **インスタンスタイプ**: db.t3.micro（PostgreSQL）
- **料金**: $0.017/時間 × 72時間 = **$1.22**（約180円）
- **ストレージ**: 20GB（無料枠内）

### 1.3 S3（画像ストレージ）
- **ストレージ容量**: 200枚 × 2MB = 400MB
- **料金**: $0.023/GB = **$0.01**（約2円）
- **リクエスト**: 
  - PUT（アップロード）: 200回 × $0.005/1000回 = **$0.001**
  - GET（閲覧）: 2000回 × $0.0004/1000回 = **$0.001**

### 1.4 データ転送
- **アウトバウンド**: 5GB（画像配信など）
- **料金**: 最初の1GB無料、残り4GB × $0.09/GB = **$0.36**（約55円）

### 1.5 Elastic IP
- **料金**: 使用中は無料

## 2. 合計料金（最小構成）

| サービス | 料金（USD） | 料金（円）※ |
|---------|------------|------------|
| EC2 | $0.75 | 110円 |
| RDS | $1.22 | 180円 |
| S3 | $0.01 | 2円 |
| データ転送 | $0.36 | 55円 |
| **合計** | **$2.34** | **約350円** |

※ 1USD = 150円で計算

## 3. 推奨構成での見積もり（より安定した運用）

### 3.1 EC2（複数インスタンス）
- **Webサーバー**: t3.small（2vCPU、2GB RAM）× 1台
  - $0.0208/時間 × 72時間 = **$1.50**（約225円）
- **Application Load Balancer**: 
  - $0.0225/時間 × 72時間 = **$1.62**（約245円）
  - LCU料金: 約**$0.10**（約15円）

### 3.2 RDS（高可用性なし）
- **インスタンスタイプ**: db.t3.small
- **料金**: $0.034/時間 × 72時間 = **$2.45**（約370円）

### 3.3 ElastiCache（Redis）
- **インスタンスタイプ**: cache.t3.micro
- **料金**: $0.017/時間 × 72時間 = **$1.22**（約180円）

### 3.4 CloudFront（CDN）
- **データ転送**: 10GB
- **料金**: 約**$0.85**（約130円）

## 4. 推奨構成の合計料金

| サービス | 料金（USD） | 料金（円）※ |
|---------|------------|------------|
| EC2 | $1.50 | 225円 |
| ALB | $1.72 | 260円 |
| RDS | $2.45 | 370円 |
| ElastiCache | $1.22 | 180円 |
| S3 | $0.01 | 2円 |
| CloudFront | $0.85 | 130円 |
| **合計** | **$7.75** | **約1,200円** |

## 5. その他の考慮事項

### 5.1 AWS 無料枠の活用
新規アカウントの場合、以下が12ヶ月間無料：
- EC2 t2.micro: 750時間/月
- RDS db.t2.micro: 750時間/月
- S3: 5GB ストレージ
- データ転送: 15GB/月

**無料枠を使用した場合**: **ほぼ0円**で運用可能

### 5.2 追加で必要になる可能性があるサービス
- **Route 53**（ドメイン）: $0.50/月（約75円）
- **AWS WAF**（セキュリティ）: $5/月 + リクエスト料金
- **CloudWatch**（監視）: 基本的な監視は無料

### 5.3 IPFS 代替案
- **Pinata**（IPFS サービス）の無料プラン: 1GB まで無料
- AWS S3 で十分な場合は IPFS は不要

## 6. コスト最適化のヒント

### 6.1 開発・テスト時
- 使用しない時は**インスタンスを停止**
- RDS は停止可能（7日間まで）
- 夜間・週末は停止して費用削減

### 6.2 本番運用時
- **スポットインスタンス**の活用（最大90%割引）
- **リザーブドインスタンス**は短期間なので不要
- **オートスケーリング**で需要に応じて調整

## 7. 結論

### 最小構成（学習・デモ用）
- **2-3日間の料金**: **約350円**
- **AWS 無料枠利用時**: **0円**

### 推奨構成（授業での本格利用）
- **2-3日間の料金**: **約1,200円**
- **AWS 無料枠利用時**: **約200-300円**

### 注意点
- 料金は使用量により変動
- 為替レートにより円換算は変動
- 予期せぬトラフィック増加に注意
- 使用後は**必ずリソースを削除**して課金を停止

## 8. さらなるコスト削減案

### 8.1 サーバーレス構成
- **AWS Lambda** + **API Gateway**
- **DynamoDB** の使用
- ほぼ使用分のみの課金で、アイドル時の料金なし

### 8.2 教育機関向けプログラム
- **AWS Educate**: 学生・教員向けクレジット提供
- **AWS Academy**: 教育機関向けの無料クレジット

これらを活用すれば、実質的に**無料**で運用可能です。 